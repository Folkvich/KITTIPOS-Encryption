<!DOCTYPE html>
<html lang="en" style="background-color: #08022a;">

<head>
    <title>RSA Encryption</title>
    <meta name="viewport" content="width=device-width, initialscale=1.0">
</head>

<div class="btn-group1" role="group" aria-label="Basic example">
    <button onclick="location.href='http://localhost:3333/'" type="button" class="btn btn1">Return</button>
</div>
<div class="btn-group" role="group" aria-label="Basic example" >
    <button
        onclick="location.href='https://sites.google.com/site/communitioncom/bth-thi-12-khwam-plxdphay-bn-kherux-khay-laea-thekhnikh-kar-khea-rhas'"
        type="button" class="btn btn-secondary">information</button>
</div>

<body>
    <center class="center1"
        style="color: rgb(255, 255, 255); font-family: Verdana, Geneva, Tahoma, sans-serif; margin-top: 30px; background-color: #10028b;border: 5px dashed #f59090;">

        <div style="background-color: skyblue; background: -webkit-linear-gradient(left,rgba(83, 3, 3, 0),rgb(162, 0, 255)); ">
        <h1 style="text-align: center; font-size: 50px; text-shadow: 0.1em 0.1em #08022a;" >RSA Algorithm</h1>
        <h2 style="text-align: center; text-shadow: 0.1em 0.1em #08022a;">Implemented Using HTML & Javascript</h2>
        <u>**แก้ Enter the word that you want to ENCRYPT, then put "NUMBER" in a key form to make how many rail you need
        </u><br>
        <br><u>ป้อนคำที่คุณต้องการเข้ารหัส จากนั้นใส่ "NUMBER" ในรูปแบบคีย์เพื่อสร้างจำนวนรางที่คุณต้องการ</u>
        </div>

        <hr>
        <table class="center">
            <tr>
                <td align=right>Enter P:</td>
                <td><input type="number" value="0" id="p" style=" font-family: 'Courier New', Courier, monospace ;font-size: 20px; font-weight: bold; padding: 5px;"></td>
                <!-- <input id="plaintext" type="text" > -->
                <br>
            </tr>
            <tr>
                <td align=right>Enter Q :</td>
                <td><input type="number" value="0" id="q" style=" font-family: 'Courier New', Courier, monospace ;font-size: 20px; font-weight: bold; padding: 5px;"></p>
                </td>
            </tr>
            <tr>
                <td align=right>Enter the Message:<br>[A=1, B=2,...]</td>
                <td><input type="number" value="0" id="msg" style=" font-family: 'Courier New', Courier, monospace ;font-size: 20px; font-weight: bold; padding: 5px;"></p>
                </td>
            </tr>
            <tr>
                <td align=right>Public Key(N):</td>
                <td>
                    <p id="publickey(N)" ></p>
                </td>
            </tr>
            <tr>
                <td align=right>Exponent(e):</td>
                <td>
                    <p id="exponent(e)"></p>
                </td>
            </tr>
            <tr>
                <td align=right>Private Key(d):</td>
                <td>
                    <p id="privatekey(d)"></p>
                </td>
            </tr>
            <tr>
                <td align=right>Cipher Text(c):</td>
                <td>
                    <p id="ciphertext(ct)"></p>
                </td>
            </tr>
            <tr>
                <td></td>
                <td><button onclick="RSA();" style="float:center; width: 150px;height: 50px;font-size: 20px;font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;border-radius:11px;" >Apply RSA</button></td>
            </tr>
        </table>
    </center>
</body>

</html>

<script type="text/javascript">
    function RSA() {
        var gcd, p, q, no, n, t, e, i, x;
        gcd = function (a, b) { return (!b) ? a : gcd(b, a % b); };
        p = document.getElementById('p').value;
        q = document.getElementById('q').value;
        no = document.getElementById('msg').value;
        n = p * q;
        t = (p - 1) * (q - 1);
        for (e = 2; e < t; e++) {
            if (gcd(e, t) == 1) {
                break;
            }
        }
        for (i = 0; i < 10; i++) {
            x = 1 + i * t
            if (x % e == 0) {
                d = x / e;
                break;
            }
        }
        ctt = Math.pow(no, e).toFixed(0);
        ct = ctt % n;
        dtt = Math.pow(ct, d).toFixed(0);
        dt = dtt % n;
        document.getElementById('publickey(N)').innerHTML = n;
        document.getElementById('exponent(e)').innerHTML = e;
        document.getElementById('privatekey(d)').innerHTML = d;
        document.getElementById('ciphertext(ct)').innerHTML = ct;
    }
</script>

<style>
    
    .center {
        margin-left: auto;
        margin-right: auto;
    }

    .input-label {
        margin-bottom: 0;
        margin-top: 0;
    }

    .center1 {
        border: 5px solid #000000;
        text-align: center;
    }

    .btn {
        margin: 0 auto;
        width: 350px;
        height: 60px;
        padding: 6px 0 0 3px;
        border: 2px solid #66fcf1;
        border-radius: 2px;
        background: none;
        font-size: 16px;
        line-height: 54px;
        color: #fff;
        letter-spacing: .25em;
        text-decoration: none;
        font-weight: 600;
        text-transform: uppercase;
        vertical-align: middle;
        text-align: center;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        -webkit-transition: background .4s, color .4s;
        transition: background .4s, color .4s;
        cursor: pointer;
        border-radius: 10px;
    }

    .btn {
        margin: 0 auto;
        width: 350px;
        height: 60px;
        padding: 6px 0 0 3px;
        border: 2px solid #66fcf1;
        border-radius: 2px;
        background: none;
        font-size: 16px;
        line-height: 54px;
        color: #fff;
        letter-spacing: .25em;
        text-decoration: none;
        font-weight: 600;
        text-transform: uppercase;
        vertical-align: middle;
        text-align: center;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        -webkit-transition: background .4s, color .4s;
        transition: background .4s, color .4s;
        cursor: pointer;
        border-radius: 10px;
    }

    .btn:hover {
        background: #66fcf1;
        color: #10151B;
    }

    .btn1:hover {
        background: #b30808;
        color: #10151B;
    }



    .btn-group {
        text-align: center;
        margin-bottom: 20px;
        border-radius: 10px;

    }

    .btn-group1 {
        text-align: left;
        margin-top: 20px;
        border-radius: 10px;
    }
    
</style>